<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accordion Box s Přehrávačem</title>
    <!-- Použití Tailwind CSS pro rychlé a responzivní stylování -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Importování Google Fontu 'DynaPuff' pro nadpis a 'Playfair Display' pro text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DynaPuff&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #514332; /* Barva pozadí */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .accordion-content.open {
            max-height: 500px; /* Dostatečná výška pro rozbalený obsah */
            transition: max-height 0.5s ease-in;
        }
        /* Styly pro přehrávač */
        .audio-player-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        /* Zvětšení ikon pro lepší viditelnost */
        .audio-player-button-icon {
            width: 1.75rem; /* 28px */
            height: 1.75rem; /* 28px */
        }
        /* Použití nového fontu pro tlačítko akordeonu */
        #accordion-toggle {
            font-family: 'DynaPuff', cursive;
        }
        /* Použití nového fontu pro text v boxu */
        #accordion-content p {
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>
<body class="bg-[#514332] flex items-center justify-center min-h-screen p-4">
    <!-- Opraveno zaoblení celého boxu -->
    <div class="w-full max-w-xl mx-auto bg-[#f1eeea] rounded-xl shadow-lg overflow-hidden">
        <!-- Tlačítko pro rozbalení/sbalení (accordion header) -->
        <button id="accordion-toggle" class="w-full p-4 flex justify-between items-center bg-[#b7a99a] text-[#514332] uppercase font-bold text-lg tracking-widest rounded-xl hover:bg-[#9b8f84] focus:outline-none focus:ring-4 focus:ring-[#d3c7bb] ring-2 ring-white ring-inset">
            Název kázání
            <!-- Šipka pro vizuální indikaci stavu (rozbaleno/sbaleno) -->
            <svg id="arrow-icon" class="w-6 h-6 transform transition-transform duration-300" fill="none" stroke="#514332" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
        </button>

        <!-- Obsah, který se zobrazí po kliknutí na tlačítko -->
        <div id="accordion-content" class="accordion-content">
            <div class="p-4">
                <!-- Biblická citace -->
                <p class="text-gray-600 mb-2 font-semibold">NT 3:1, 4-6</p>
                <!-- Biblický text -->
                <p class="text-gray-800 leading-relaxed mb-4">
                    Tento verš, druhý verš, třetí verš. A další verš. A tak dále.
                </p>

                <!-- Vlastní audio přehrávač -->
                <div class="audio-player-container">
                    <!-- Skrytý HTML5 audio prvek -->
                    <audio id="audio-element" src="https://www.learningcontainer.com/wp-content/uploads/2020/02/Kalimba.mp3"></audio>
                    
                    <!-- Tlačítko pro přehrávání/pauzu -->
                    <button id="play-pause-button" class="bg-[#b7a99a] p-2 rounded-full text-[#514332] shadow-md hover:bg-[#9b8f84] transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-[#d3c7bb]">
                        <!-- Ikona pro přehrávání (původní stav) - trojúhelník pro play -->
                        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="audio-player-button-icon" viewBox="0 0 24 24" fill="#514332">
                            <path d="M8 5v14l11-7z" />
                        </svg>
                        <!-- Ikona pro pauzu (skrytá na začátku) - dvě svislé čáry -->
                        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="audio-player-button-icon hidden" viewBox="0 0 24 24" fill="#514332">
                            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                        </svg>
                    </button>

                    <!-- Lišta s ukazatelem průběhu -->
                    <div class="flex-grow bg-[#b7a99a] rounded-full h-2">
                        <div id="progress-bar" class="bg-[#514332] h-2 rounded-full transition-all duration-100" style="width: 0%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Získání DOM prvků
        const accordionToggle = document.getElementById('accordion-toggle');
        const accordionContent = document.getElementById('accordion-content');
        const arrowIcon = document.getElementById('arrow-icon');
        const audioElement = document.getElementById('audio-element');
        const playPauseButton = document.getElementById('play-pause-button');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const progressBar = document.getElementById('progress-bar');

        // Funkce pro přepínání accordion boxu
        accordionToggle.addEventListener('click', () => {
            accordionContent.classList.toggle('open');
            // Rotace šipky
            arrowIcon.classList.toggle('rotate-180');
        });

        // Funkce pro přepínání přehrávání/pauzy
        playPauseButton.addEventListener('click', () => {
            if (audioElement.paused) {
                audioElement.play();
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                audioElement.pause();
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        });

        // Funkce pro aktualizaci lišty průběhu
        audioElement.addEventListener('timeupdate', () => {
            const progress = (audioElement.currentTime / audioElement.duration) * 100;
            progressBar.style.width = `${progress}%`;
        });

        // Funkce pro resetování přehrávače po skončení audia
        audioElement.addEventListener('ended', () => {
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            progressBar.style.width = '0%';
        });

        // Úprava lišty průběhu po kliknutí
        progressBar.parentElement.addEventListener('click', (e) => {
            const rect = progressBar.parentElement.getBoundingClientRect();
            const pos = (e.clientX - rect.left) / rect.width;
            audioElement.currentTime = pos * audioElement.duration;
        });
    </script>
</body>
</html>
